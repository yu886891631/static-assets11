/**
 * 技能数据库
 * 包含所有可学习的技能
 */

import {
  BuffType,
  DamageSource,
  SkillData,
  SkillRarity,
  SkillTarget,
  SkillType,
  UnlockConditionType,
} from './skill-types';

// 重新导出类型和枚举供其他组件使用
export { BuffType, DamageSource, SkillRarity, SkillTarget, SkillType, UnlockConditionType, type SkillData };

// ==================== 初始可选技能（开局用） ====================

export const STARTER_SKILLS: SkillData[] = [
  // === 衣物破坏 ===
  {
    id: 's_strip',
    name: '衣物破坏',
    description: '【攻击】强行撕裂对方衣物',
    effectDescription: '造成100%性斗力伤害',
    icon: 'Scissors',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 23,
    cooldown: 3,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 1.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 85,
    critModifier: 0,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 5, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 10, costReduction: 1, cooldownReduction: 0, specialEffect: '忍耐力降低+5%' },
      { cost: 3, damageIncrease: 15, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 2, cooldownReduction: 1 },
    ],
    voiceLine: '穿这么多干嘛？',
  },
  // === 指尖挑逗 ===
  {
    id: 's_tease',
    name: '指尖挑逗',
    description: '【攻击】精细的爱抚敏感点',
    effectDescription: '造成80%性斗力伤害',
    icon: 'HandPointer',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 15,
    cooldown: 0,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.8 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 95,
    critModifier: 5,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 0 },
    ],
    voiceLine: '让我来找找你的弱点...',
  },
  // === 弱点洞察 ===
  {
    id: 's_observe',
    name: '弱点洞察',
    description: '【辅助】观察对方身体',
    effectDescription: '下次攻击暴击率+50%，持续2回合',
    icon: 'Eye',
    type: SkillType.SUPPORT,
    rarity: SkillRarity.RARE,
    staminaCost: 6,
    cooldown: 3,
    castTime: 0,
    damageFormula: [],
    target: SkillTarget.SELF,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.CRIT_UP, value: 50, isPercent: true, duration: 2, stackable: false }],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 0,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 0, costReduction: 0, cooldownReduction: 0, specialEffect: '暴击率+5%' },
      { cost: 2, damageIncrease: 0, costReduction: 1, cooldownReduction: 0, specialEffect: '暴击率+5%' },
      { cost: 3, damageIncrease: 0, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '暴击率+10%' },
      { cost: 5, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '集中持续+1回合' },
    ],
    voiceLine: '找到了...',
  },
  // === 深吻 ===
  {
    id: 's_kiss',
    name: '深吻',
    description: '【攻击】交换唾液的深吻',
    effectDescription: '造成100%性斗力伤害',
    icon: 'Kiss',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 23,
    cooldown: 3,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 1.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 90,
    critModifier: 10,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 30, costReduction: 3, cooldownReduction: 1 },
    ],
    voiceLine: '嘘...安静...',
  },
  // === 羞耻拍打 ===
  {
    id: 's_spank',
    name: '羞耻拍打',
    description: '【攻击】拍打臀部',
    effectDescription: '造成60%性斗力伤害',
    icon: 'Hand',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 12,
    cooldown: 1,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.6 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 15,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 0, specialEffect: '暴击率+5%' },
      { cost: 4, damageIncrease: 25, costReduction: 1, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 0, specialEffect: '羞耻值+5' },
    ],
    voiceLine: '听这声音，真是色情呢...',
  },
  // === 污言秽语 ===
  {
    id: 's_dirtytalk',
    name: '污言秽语',
    description: '【精神】用言语侮辱对方',
    effectDescription: '造成238%魅力伤害',
    icon: 'Comment',
    type: SkillType.MENTAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 30,
    cooldown: 4,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 2.38 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 5,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 0, specialEffect: '意志降低+3%' },
      { cost: 4, damageIncrease: 25, costReduction: 1, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 0, specialEffect: '必定附加羞耻' },
    ],
    voiceLine: '你这个淫乱的家伙...',
  },
  // === 费洛蒙 ===
  {
    id: 's_pheromone',
    name: '费洛蒙',
    description: '【领域】散发催情气味',
    effectDescription: '造成190%魅力伤害',
    icon: 'Wind',
    type: SkillType.FIELD,
    rarity: SkillRarity.RARE,
    staminaCost: 18,
    cooldown: 3,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 1.9 }],
    target: SkillTarget.ALL_ENEMIES,
    accuracy: 100,
    critModifier: 0,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 2, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 15, costReduction: 2, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 20, costReduction: 3, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 4, cooldownReduction: 1 },
      { cost: 6, damageIncrease: 30, costReduction: 5, cooldownReduction: 1 },
    ],
    voiceLine: '闻到了吗？这就是我的味道...',
  },
  // === 偷拍视角 ===
  {
    id: 's_camera',
    name: '偷拍视角',
    description: '【精神】记录羞耻画面',
    effectDescription: '造成320%魅力伤害',
    icon: 'Camera',
    type: SkillType.MENTAL,
    rarity: SkillRarity.RARE,
    staminaCost: 30,
    cooldown: 6,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 3.2 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 75,
    critModifier: 0,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 2, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 15, costReduction: 2, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 3, cooldownReduction: 1 },
      { cost: 6, damageIncrease: 30, costReduction: 4, cooldownReduction: 1 },
    ],
    voiceLine: '笑一个~这可是会被很多人看到的哦？',
  },
  // === 道具使用 ===
  {
    id: 's_toy',
    name: '道具使用',
    description: '【特殊】使用随身玩具',
    effectDescription: '造成80%性斗力伤害',
    icon: 'Lightning',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 5,
    cooldown: 2,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.8 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 95,
    critModifier: 10,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 20, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 25, costReduction: 2, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 30, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 35, costReduction: 3, cooldownReduction: 1 },
    ],
    voiceLine: '试试这个怎么样？',
  },
  // === 足技 ===
  {
    id: 's_foot',
    name: '足技',
    description: '【攻击】用脚挑逗',
    effectDescription: '造成60%性斗力伤害',
    icon: 'Footprints',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 3,
    cooldown: 1,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.6 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 90,
    critModifier: 5,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 0 },
    ],
    voiceLine: '用脚就够对付你了~',
  },
  // === 精油按摩 ===
  {
    id: 's_massage',
    name: '精油按摩',
    description: '【特殊】推油按摩',
    effectDescription: '造成100%性斗力伤害，降低对方忍耐力12%持续3回合',
    icon: 'Droplets',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.RARE,
    staminaCost: 30,
    cooldown: 5,
    castTime: 1,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 1.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.DEF_DOWN, value: -12, isPercent: true, duration: 3, stackable: false }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 2, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 2, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 30, costReduction: 3, cooldownReduction: 1 },
      { cost: 6, damageIncrease: 35, costReduction: 4, cooldownReduction: 1 },
    ],
    voiceLine: '放松...让我来服侍你...',
  },
  // === 露出 ===
  {
    id: 's_flash',
    name: '露出',
    description: '【精神】展示私密部位',
    effectDescription: '造成400%魅力伤害，必定暴击',
    icon: 'Sparkles',
    type: SkillType.CHARM,
    rarity: SkillRarity.COMMON,
    staminaCost: 60,
    cooldown: 5,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 4.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 80,
    critModifier: 100,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    conditionalEffects: [
      {
        condition: '目标为纯情角色',
        effect: { type: BuffType.FOCUS, value: 100, isPercent: true, duration: 1, stackable: false },
      },
    ],
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 20, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 25, costReduction: 2, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 30, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 40, costReduction: 3, cooldownReduction: 1 },
    ],
    voiceLine: '怎么样？还满意吗？',
  },
  // === 求饶 ===
  {
    id: 's_beg',
    name: '求饶',
    description: '【防御】楚楚可怜地求饶',
    effectDescription: '降低对方攻击力20%持续2回合',
    icon: 'Sad',
    type: SkillType.SUPPORT,
    rarity: SkillRarity.RARE,
    staminaCost: 5,
    willpowerCost: 5,
    cooldown: 3,
    castTime: 0,
    damageFormula: [],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.ATK_DOWN, value: 20, isPercent: true, duration: 2, stackable: false }],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 0,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 0, costReduction: 0, cooldownReduction: 0, specialEffect: '攻击降低+5%' },
      { cost: 2, damageIncrease: 0, costReduction: 1, cooldownReduction: 0, specialEffect: '攻击降低+5%' },
      { cost: 3, damageIncrease: 0, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '攻击降低+5%' },
      { cost: 5, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '持续+1回合' },
    ],
    voiceLine: '不要...求你了...',
  },
  // === 挑衅 ===
  {
    id: 's_taunt',
    name: '挑衅',
    description: '【精神】嘲讽对方的技术',
    effectDescription: '造成95%魅力伤害，对方防御-25%',
    icon: 'Grin',
    type: SkillType.MENTAL,
    rarity: SkillRarity.RARE,
    staminaCost: 10,
    cooldown: 3,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 0.95 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.DEF_DOWN, value: -25, isPercent: true, duration: 2, stackable: false }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 5, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 10, costReduction: 1, cooldownReduction: 0, specialEffect: '防御降低+5%' },
      { cost: 3, damageIncrease: 15, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 2, cooldownReduction: 1, specialEffect: '防御降低+10%' },
    ],
    voiceLine: '就这？杂鱼~',
  },
  // === 崇拜 ===
  {
    id: 's_worship',
    name: '崇拜',
    description: '【精神】奉对方为主人',
    effectDescription: '造成1%性斗力伤害',
    icon: 'Crown',
    type: SkillType.SUPPORT,
    rarity: SkillRarity.COMMON,
    staminaCost: 8,
    willpowerCost: 10,
    cooldown: 3,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.01 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    selfEffect: [],
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 5, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 10, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 15, costReduction: 2, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 3, cooldownReduction: 1 },
    ],
    voiceLine: '主人...请指教...',
  },
  // === 魅惑之吻 ===
  {
    id: 's_charm_kiss',
    name: '魅惑之吻',
    description: '【攻击】用魅惑的吻技攻击',
    effectDescription: '造成320%魅力伤害',
    icon: 'Heart',
    type: SkillType.CHARM,
    rarity: SkillRarity.RARE,
    staminaCost: 23,
    cooldown: 5,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 3.2 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 90,
    critModifier: 5,
    buffs: [{ type: BuffType.WILLPOWER_DOWN, value: -8, isPercent: true, duration: 2, stackable: false }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 1, specialEffect: '持续+1回合' },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 1, specialEffect: '命中率+5%' },
    ],
    voiceLine: '让我来给你一个难忘的吻~',
  },
  // === 快速反击 ===
  {
    id: 's_counter',
    name: '快速反击',
    description: '【攻击】在闪避后立即反击',
    effectDescription: '造成60%性斗力伤害',
    icon: 'Shield',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.RARE,
    staminaCost: 18,
    cooldown: 0,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.6 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 10,
    buffs: [],
    ignoreDefense: true,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 2, cooldownReduction: 0, specialEffect: '伤害+5%' },
      { cost: 3, damageIncrease: 20, costReduction: 2, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 25, costReduction: 3, cooldownReduction: 0, specialEffect: '伤害+10%' },
      { cost: 5, damageIncrease: 30, costReduction: 3, cooldownReduction: 0, specialEffect: '可连续使用2次' },
    ],
    voiceLine: '还没完呢！',
  },
  // === 幸运一击 ===
  {
    id: 's_lucky_strike',
    name: '幸运一击',
    description: '【攻击】依靠运气发动的强力攻击',
    effectDescription: '造成400%幸运伤害',
    icon: 'Clover',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.RARE,
    staminaCost: 0,
    cooldown: 8,
    castTime: 0,
    damageFormula: [{ source: DamageSource.LUCK, coefficient: 4.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 10,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 1, specialEffect: '命中率+10%' },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 1, specialEffect: '伤害+15%' },
    ],
    voiceLine: '运气也是实力的一部分！',
  },
];

// ==================== 物理技能 ====================

export const PHYSICAL_SKILLS: SkillData[] = [
  // === 指尖挑逗 ===
  {
    id: 'sk_finger_tease',
    name: '指尖挑逗',
    description: '用灵巧的指尖在对方敏感处轻柔地游走',
    effectDescription: '造成60%性斗力伤害',
    icon: 'HandPointer',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 8,
    cooldown: 0,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.6 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 95,
    critModifier: 5,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 0, specialEffect: '敏感持续时间+1' },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 0, specialEffect: '必定附加敏感' },
    ],
    voiceLine: '让我来找找你的弱点...',
  },
  // === 深吻 ===
  {
    id: 'sk_deep_kiss',
    name: '深吻',
    description: '一个令人窒息的深吻，封住对方的唇舌',
    effectDescription: '造成100%性斗力伤害，沉默1回合',
    icon: 'Kiss',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 12,
    cooldown: 2,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 1.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 90,
    critModifier: 10,
    buffs: [{ type: BuffType.SILENCE, value: 0, isPercent: false, duration: 1, stackable: false }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 1, specialEffect: '沉默持续+1回合' },
      { cost: 5, damageIncrease: 30, costReduction: 3, cooldownReduction: 1 },
    ],
    voiceLine: '嘘...安静...',
  },
  // === 衣物破坏 ===
  {
    id: 'sk_strip',
    name: '衣物破坏',
    description: '粗暴地撕裂对方的衣物，使其暴露在空气中',
    effectDescription: '造成40%性斗力伤害，降低防御20%并附加羞耻',
    icon: 'Scissors',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 10,
    cooldown: 3,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.4 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 85,
    critModifier: 0,
    buffs: [
      { type: BuffType.DEF_DOWN, value: -20, isPercent: true, duration: 99, stackable: true, maxStacks: 5 },
      { type: BuffType.SHAME, value: 5, isPercent: false, duration: 3, stackable: false },
    ],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 5, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 10, costReduction: 1, cooldownReduction: 0, specialEffect: '防御降低+5%' },
      { cost: 3, damageIncrease: 15, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 2, cooldownReduction: 1, specialEffect: '羞耻持续+2回合' },
    ],
    voiceLine: '穿这么多干嘛？',
  },
  // === 羞耻拍打 ===
  {
    id: 'sk_spank',
    name: '羞耻拍打',
    description: '用力拍打对方的臀部，发出响亮的声音',
    effectDescription: '造成50%性斗力伤害，附加羞耻状态',
    icon: 'Hand',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 6,
    cooldown: 1,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.5 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 15,
    buffs: [{ type: BuffType.SHAME, value: 8, isPercent: false, duration: 2, stackable: true, maxStacks: 5 }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 0, specialEffect: '暴击率+5%' },
      { cost: 4, damageIncrease: 25, costReduction: 1, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 0, specialEffect: '羞耻值+5' },
    ],
    voiceLine: '听这声音，真是色情呢...',
  },
  // === 精油按摩 ===
  {
    id: 'sk_massage',
    name: '精油按摩',
    description: '涂抹精油进行全身按摩，逐渐瓦解对方的防御',
    effectDescription: '造成120%性斗力伤害，降低防御15%，敏感+25%',
    icon: 'Droplets',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.RARE,
    staminaCost: 18,
    cooldown: 4,
    castTime: 1,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 1.2 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [
      { type: BuffType.DEF_DOWN, value: -15, isPercent: true, duration: 3, stackable: false },
      { type: BuffType.SENSITIVE, value: 25, isPercent: true, duration: 3, stackable: false },
    ],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [{ type: UnlockConditionType.LEVEL, value: 5, description: '达到5级' }],
    upgrades: [
      { cost: 2, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 2, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 30, costReduction: 3, cooldownReduction: 1, specialEffect: '蓄力时间-1' },
      { cost: 6, damageIncrease: 35, costReduction: 4, cooldownReduction: 1, specialEffect: '敏感提升+10%' },
    ],
    voiceLine: '放松...让我来服侍你...',
  },
  // === 强行压制 ===
  {
    id: 'sk_force_pin',
    name: '强行压制',
    description: '利用体格优势将对方压制在身下',
    effectDescription: '造成80%性斗力伤害，束缚2回合，降低对方闪避率40%持续2回合',
    icon: 'Dumbbell',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.RARE,
    staminaCost: 25,
    cooldown: 5,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.8 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 75,
    critModifier: 0,
    buffs: [
      { type: BuffType.BIND, value: 0, isPercent: false, duration: 2, stackable: false },
      { type: BuffType.DODGE_DOWN, value: -40, isPercent: true, duration: 2, stackable: false },
    ],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [{ type: UnlockConditionType.LEVEL, value: 8, description: '达到8级' }],
    upgrades: [
      { cost: 2, damageIncrease: 10, costReduction: 0, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 3, damageIncrease: 15, costReduction: 2, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 4, damageIncrease: 20, costReduction: 3, cooldownReduction: 1, specialEffect: '命中率+5%' },
      { cost: 5, damageIncrease: 25, costReduction: 4, cooldownReduction: 1, specialEffect: '束缚+1回合' },
      { cost: 6, damageIncrease: 30, costReduction: 5, cooldownReduction: 1 },
    ],
    voiceLine: '乖乖不要动！',
  },
  // === 寸止 ===
  {
    id: 'sk_denial',
    name: '寸止',
    description: '在对方即将高潮时突然停止，积累巨大的压力',
    effectDescription: '需对方快感>70%，造成50%目标快感伤害',
    icon: 'HandFist',
    type: SkillType.PHYSICAL,
    rarity: SkillRarity.EPIC,
    staminaCost: 20,
    cooldown: 6,
    castTime: 0,
    damageFormula: [{ source: DamageSource.TARGET_LUST, coefficient: 0.5 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.EDGE, value: 20, isPercent: true, duration: 3, stackable: false }],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 1,
    conditionalEffects: [
      {
        condition: 'target.lust < target.maxLust * 0.7',
        effect: { type: BuffType.ATK_DOWN, value: 0, isPercent: false, duration: 0, stackable: false },
      },
    ],
    unlockConditions: [
      { type: UnlockConditionType.LEVEL, value: 15, description: '达到15级' },
      { type: UnlockConditionType.WINS, value: 20, description: '性斗胜利20次' },
    ],
    upgrades: [
      { cost: 3, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 15, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 20, costReduction: 3, cooldownReduction: 1, specialEffect: '快感要求降至60%' },
      { cost: 6, damageIncrease: 25, costReduction: 4, cooldownReduction: 1 },
      { cost: 8, damageIncrease: 30, costReduction: 5, cooldownReduction: 2, specialEffect: '高潮边缘效果+10%' },
    ],
    voiceLine: '还想高潮？太早了...',
  },
];

// ==================== 精神技能 ====================

export const MENTAL_SKILLS: SkillData[] = [
  // === 污言秽语 ===
  {
    id: 'sk_dirty_talk',
    name: '污言秽语',
    description: '用下流的言语刺激对方的羞耻心',
    effectDescription: '造成240%魅力伤害',
    icon: 'Comment',
    type: SkillType.MENTAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 30,
    cooldown: 5,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 2.4 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 5,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 15, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 1, cooldownReduction: 0, specialEffect: '意志降低+3%' },
      { cost: 4, damageIncrease: 25, costReduction: 1, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 30, costReduction: 2, cooldownReduction: 0, specialEffect: '必定附加羞耻' },
    ],
    voiceLine: '你这个淫乱的家伙...',
  },
  // === 嘲讽挑衅 ===
  {
    id: 'sk_taunt',
    name: '嘲讽挑衅',
    description: '用轻蔑的语气嘲讽对方的技术',
    effectDescription: '造成95%魅力伤害，对方忍耐力-25%',
    icon: 'Ghost',
    type: SkillType.MENTAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 8,
    cooldown: 2,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 0.95 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.DEF_DOWN, value: -25, isPercent: true, duration: 2, stackable: false }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 5, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 10, costReduction: 1, cooldownReduction: 0, specialEffect: '防御降低+5%' },
      { cost: 3, damageIncrease: 15, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 2, cooldownReduction: 1, specialEffect: '防御降低+10%' },
    ],
    voiceLine: '就这？杂鱼~',
  },
  // === 弱点洞察 ===
  {
    id: 'sk_observe',
    name: '弱点洞察',
    description: '仔细观察对方的反应，找出敏感点',
    effectDescription: '下次攻击暴击率大幅提升',
    icon: 'Eye',
    type: SkillType.MENTAL,
    rarity: SkillRarity.COMMON,
    staminaCost: 6,
    cooldown: 3,
    castTime: 0,
    damageFormula: [],
    target: SkillTarget.SELF,
    accuracy: 100,
    critModifier: 0,
    buffs: [
      { type: BuffType.FOCUS, value: 50, isPercent: true, duration: 1, stackable: false },
      { type: BuffType.CRIT_UP, value: 30, isPercent: true, duration: 2, stackable: false },
    ],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 0,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 0, costReduction: 0, cooldownReduction: 0, specialEffect: '暴击率+5%' },
      { cost: 2, damageIncrease: 0, costReduction: 1, cooldownReduction: 0, specialEffect: '暴击率+5%' },
      { cost: 3, damageIncrease: 0, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '暴击率+10%' },
      { cost: 5, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '集中持续+1回合' },
    ],
    voiceLine: '找到了...',
  },
  // === 偷拍威胁 ===
  {
    id: 'sk_camera',
    name: '偷拍威胁',
    description: '用手机记录对方的羞耻姿态并进行威胁',
    effectDescription: '造成320%魅力伤害',
    icon: 'Camera',
    type: SkillType.MENTAL,
    rarity: SkillRarity.RARE,
    staminaCost: 20,
    cooldown: 5,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 3.2 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 90,
    critModifier: 0,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [{ type: UnlockConditionType.LEVEL, value: 10, description: '达到10级' }],
    upgrades: [
      { cost: 2, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 15, costReduction: 2, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 3, cooldownReduction: 1, specialEffect: '恐惧+1回合' },
      { cost: 6, damageIncrease: 30, costReduction: 4, cooldownReduction: 1 },
    ],
    voiceLine: '笑一个~这可是会被很多人看到的哦？',
  },
];

// ==================== 魅惑技能 ====================

export const CHARM_SKILLS: SkillData[] = [
  // === 魅惑露出 ===
  {
    id: 'sk_flash',
    name: '魅惑露出',
    description: '故意展示私密部位来迷惑对方',
    effectDescription: '造成800%魅力伤害，对纯情角色暴击',
    icon: 'Sparkles',
    type: SkillType.CHARM,
    rarity: SkillRarity.COMMON,
    staminaCost: 10,
    cooldown: 2,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 8.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 95,
    critModifier: 20,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 20, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 25, costReduction: 2, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 30, costReduction: 2, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 40, costReduction: 3, cooldownReduction: 1 },
    ],
    voiceLine: '怎么样？还满意吗？',
  },
  // === 费洛蒙散发 ===
  {
    id: 'sk_pheromone',
    name: '费洛蒙散发',
    description: '释放出令人迷醉的费洛蒙气息',
    effectDescription: '造成240%魅力伤害，全体敌人发情状态4回合',
    icon: 'Wind',
    type: SkillType.CHARM,
    rarity: SkillRarity.RARE,
    staminaCost: 20,
    cooldown: 5,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 2.4 }],
    target: SkillTarget.ALL_ENEMIES,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.HEAT, value: 10, isPercent: false, duration: 4, stackable: false }],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [{ type: UnlockConditionType.LEVEL, value: 12, description: '达到12级' }],
    upgrades: [
      { cost: 2, damageIncrease: 10, costReduction: 0, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 15, costReduction: 2, cooldownReduction: 0, specialEffect: '发情值+3' },
      { cost: 4, damageIncrease: 20, costReduction: 3, cooldownReduction: 1 },
      { cost: 5, damageIncrease: 25, costReduction: 4, cooldownReduction: 1, specialEffect: '发情持续+1回合' },
      { cost: 6, damageIncrease: 30, costReduction: 5, cooldownReduction: 1 },
    ],
    voiceLine: '闻到了吗？这就是我的味道...',
  },
  // === 魅惑之眼 ===
  {
    id: 'sk_seduce',
    name: '魅惑之眼',
    description: '用充满诱惑的眼神注视对方',
    effectDescription: '造成640%魅力伤害，使对方进入魅惑状态2回合',
    icon: 'GrinHearts',
    type: SkillType.CHARM,
    rarity: SkillRarity.EPIC,
    staminaCost: 22,
    cooldown: 6,
    castTime: 0,
    damageFormula: [{ source: DamageSource.CHARM, coefficient: 6.4 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 80,
    critModifier: 0,
    buffs: [{ type: BuffType.CHARM_DEBUFF, value: 35, isPercent: true, duration: 2, stackable: false }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [
      { type: UnlockConditionType.LEVEL, value: 18, description: '达到18级' },
      { type: UnlockConditionType.ATTRIBUTE, value: 'charm:60', description: '魅力达到60' },
    ],
    upgrades: [
      { cost: 3, damageIncrease: 10, costReduction: 0, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 4, damageIncrease: 15, costReduction: 2, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 5, damageIncrease: 20, costReduction: 3, cooldownReduction: 1, specialEffect: '魅惑几率+5%' },
      { cost: 6, damageIncrease: 25, costReduction: 4, cooldownReduction: 1 },
      { cost: 8, damageIncrease: 30, costReduction: 5, cooldownReduction: 1, specialEffect: '魅惑几率+10%' },
    ],
    voiceLine: '看着我...只看着我...',
  },
];

// ==================== 运气技能 ====================

export const LUCK_SKILLS: SkillData[] = [
  // === 幸运一击 ===
  {
    id: 'sk_lucky_hit',
    name: '幸运一击',
    description: '看似随意的一击，却能精准命中要害',
    effectDescription: '造成800%幸运伤害，暴击率基于幸运',
    icon: 'Clover',
    type: SkillType.LUCK,
    rarity: SkillRarity.COMMON,
    staminaCost: 8,
    cooldown: 1,
    castTime: 0,
    damageFormula: [{ source: DamageSource.LUCK, coefficient: 8.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 85,
    critModifier: 0, // 暴击率完全基于幸运
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 2, damageIncrease: 20, costReduction: 1, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 25, costReduction: 1, cooldownReduction: 0 },
      { cost: 4, damageIncrease: 30, costReduction: 2, cooldownReduction: 0, specialEffect: '幸运系数+0.2' },
      { cost: 5, damageIncrease: 40, costReduction: 2, cooldownReduction: 0 },
    ],
    voiceLine: '运气好的话...',
  },
  // === 赌徒心态 ===
  {
    id: 'sk_gamble',
    name: '赌徒心态',
    description: '将一切交给命运，可能大赚也可能大亏',
    effectDescription: '造成150%性斗力伤害，50%几率双倍，50%几率自伤',
    icon: 'DiceD20',
    type: SkillType.LUCK,
    rarity: SkillRarity.RARE,
    staminaCost: 15,
    cooldown: 3,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 1.5 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 25,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    selfEffect: [
      { type: BuffType.DOT_LUST, value: 15, isPercent: false, duration: 1, stackable: false, trigger: '50%' },
    ],
    unlockConditions: [{ type: UnlockConditionType.LEVEL, value: 10, description: '达到10级' }],
    upgrades: [
      { cost: 2, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 3, damageIncrease: 20, costReduction: 2, cooldownReduction: 0, specialEffect: '成功率+5%' },
      { cost: 4, damageIncrease: 25, costReduction: 2, cooldownReduction: 1, specialEffect: '成功率+5%' },
      { cost: 5, damageIncrease: 30, costReduction: 3, cooldownReduction: 1, specialEffect: '成功率+10%' },
      { cost: 6, damageIncrease: 40, costReduction: 4, cooldownReduction: 1 },
    ],
    voiceLine: '来吧！让我们看看命运的安排！',
  },
];

// ==================== 辅助技能 ====================

export const SUPPORT_SKILLS: SkillData[] = [
  // === 喘息 ===
  {
    id: 'sk_rest',
    name: '喘息',
    description: '短暂的休息来恢复体力',
    effectDescription: '恢复一定耐力，并获得短暂的防御提升',
    icon: 'Bed',
    type: SkillType.SUPPORT,
    rarity: SkillRarity.COMMON,
    staminaCost: 0,
    cooldown: 4,
    castTime: 0,
    damageFormula: [],
    target: SkillTarget.SELF,
    accuracy: 100,
    critModifier: 0,
    buffs: [
      { type: BuffType.REGEN, value: 15, isPercent: true, duration: 2, stackable: false },
      { type: BuffType.DEF_UP, value: 15, isPercent: true, duration: 2, stackable: false },
    ],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 0,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 0, costReduction: 0, cooldownReduction: 0, specialEffect: '恢复+3%' },
      { cost: 2, damageIncrease: 0, costReduction: 0, cooldownReduction: 1, specialEffect: '恢复+3%' },
      { cost: 3, damageIncrease: 0, costReduction: 0, cooldownReduction: 1, specialEffect: '恢复+4%' },
      { cost: 4, damageIncrease: 0, costReduction: 0, cooldownReduction: 1, specialEffect: '防御+5%' },
      { cost: 5, damageIncrease: 0, costReduction: 0, cooldownReduction: 1, specialEffect: '恢复+5%' },
    ],
    voiceLine: '让我歇一下...',
  },
  // === 冷静 ===
  {
    id: 'sk_calm',
    name: '冷静',
    description: '集中精神，压制欲望',
    effectDescription: '减少自身快感值',
    icon: 'Brain',
    type: SkillType.SUPPORT,
    rarity: SkillRarity.COMMON,
    staminaCost: 12,
    cooldown: 4,
    castTime: 0,
    damageFormula: [],
    target: SkillTarget.SELF,
    accuracy: 100,
    critModifier: 0,
    buffs: [],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 0,
    selfEffect: [{ type: BuffType.DOT_LUST, value: -20, isPercent: false, duration: 1, stackable: false }],
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 0, costReduction: 0, cooldownReduction: 0, specialEffect: '快感减少+5' },
      { cost: 2, damageIncrease: 0, costReduction: 1, cooldownReduction: 0, specialEffect: '快感减少+5' },
      { cost: 3, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '忍耐+5%' },
      { cost: 4, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '快感减少+5' },
      { cost: 5, damageIncrease: 0, costReduction: 3, cooldownReduction: 1, specialEffect: '忍耐+10%' },
    ],
    voiceLine: '冷静...冷静下来...',
  },
  // === 求饶 ===
  {
    id: 'sk_beg',
    name: '求饶',
    description: '楚楚可怜地向对方求饶',
    effectDescription: '降低对方性斗力15%持续2回合',
    icon: 'Sad',
    type: SkillType.SUPPORT,
    rarity: SkillRarity.COMMON,
    staminaCost: 5,
    willpowerCost: 5,
    cooldown: 3,
    castTime: 0,
    damageFormula: [],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 100,
    critModifier: 0,
    buffs: [{ type: BuffType.ATK_DOWN, value: 20, isPercent: true, duration: 2, stackable: false }],
    ignoreDefense: false,
    canBeDodged: false,
    canBeReflected: false,
    hitCount: 0,
    unlockConditions: [],
    upgrades: [
      { cost: 1, damageIncrease: 0, costReduction: 0, cooldownReduction: 0, specialEffect: '攻击降低+5%' },
      { cost: 2, damageIncrease: 0, costReduction: 1, cooldownReduction: 0, specialEffect: '攻击降低+5%' },
      { cost: 3, damageIncrease: 0, costReduction: 1, cooldownReduction: 1 },
      { cost: 4, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '攻击降低+5%' },
      { cost: 5, damageIncrease: 0, costReduction: 2, cooldownReduction: 1, specialEffect: '持续+1回合' },
    ],
    voiceLine: '不要...求你了...',
  },
];

// ==================== 控制技能 ====================

export const CONTROL_SKILLS: SkillData[] = [
  {
    id: 'sk_bind',
    name: '束缚',
    description: '用绳索或其他工具限制对方行动',
    effectDescription: '造成30%性斗力伤害，束缚2回合，闪避-30%',
    icon: 'Chain',
    type: SkillType.CONTROL,
    rarity: SkillRarity.RARE,
    staminaCost: 18,
    cooldown: 5,
    castTime: 0,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.3 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 80,
    critModifier: 0,
    buffs: [
      { type: BuffType.BIND, value: 0, isPercent: false, duration: 2, stackable: false },
      { type: BuffType.DODGE_DOWN, value: -30, isPercent: true, duration: 2, stackable: false },
    ],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    unlockConditions: [{ type: UnlockConditionType.LEVEL, value: 8, description: '达到8级' }],
    upgrades: [
      { cost: 2, damageIncrease: 10, costReduction: 0, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 3, damageIncrease: 15, costReduction: 2, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 4, damageIncrease: 20, costReduction: 2, cooldownReduction: 1, specialEffect: '命中率+5%' },
      { cost: 5, damageIncrease: 25, costReduction: 3, cooldownReduction: 1, specialEffect: '束缚+1回合' },
      { cost: 6, damageIncrease: 30, costReduction: 4, cooldownReduction: 1 },
    ],
    voiceLine: '乖乖不要动...',
  },
  {
    id: 'sk_aphrodisiac',
    name: '媚药投毒',
    description: '悄悄对对方使用催情药物',
    effectDescription: '发情5回合，敏感+30%，意志-15%',
    icon: 'Flask',
    type: SkillType.CONTROL,
    rarity: SkillRarity.EPIC,
    staminaCost: 20,
    cooldown: 7,
    castTime: 0,
    damageFormula: [],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 85,
    critModifier: 0,
    buffs: [
      { type: BuffType.HEAT, value: 15, isPercent: false, duration: 5, stackable: false },
      { type: BuffType.SENSITIVE, value: 30, isPercent: true, duration: 5, stackable: false },
      { type: BuffType.WILLPOWER_DOWN, value: -15, isPercent: true, duration: 5, stackable: false },
    ],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 0,
    unlockConditions: [
      { type: UnlockConditionType.LEVEL, value: 15, description: '达到15级' },
      { type: UnlockConditionType.EVENT, value: 'obtain_aphrodisiac', description: '获得媚药配方' },
    ],
    upgrades: [
      { cost: 3, damageIncrease: 0, costReduction: 0, cooldownReduction: 0, specialEffect: '发情值+3' },
      { cost: 4, damageIncrease: 0, costReduction: 2, cooldownReduction: 0, specialEffect: '命中率+5%' },
      { cost: 5, damageIncrease: 0, costReduction: 3, cooldownReduction: 1, specialEffect: '敏感+10%' },
      { cost: 6, damageIncrease: 0, costReduction: 4, cooldownReduction: 1, specialEffect: '发情+1回合' },
      { cost: 8, damageIncrease: 0, costReduction: 5, cooldownReduction: 2, specialEffect: '发情值+5' },
    ],
    voiceLine: '慢慢享受吧~',
  },
];

// ==================== 终结技能 ====================

export const ULTIMATE_SKILLS: SkillData[] = [
  {
    id: 'sk_climax_break',
    name: '强制绝顶',
    description: '集中全力发动的终极攻势，直接将对方推向高潮',
    effectDescription: '造成200%性斗力伤害，敏感+50%，快感>50%时必定暴击',
    icon: 'Burst',
    type: SkillType.ULTIMATE,
    rarity: SkillRarity.LEGENDARY,
    staminaCost: 40,
    cooldown: 8,
    castTime: 1,
    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 2.0 }],
    target: SkillTarget.SINGLE_ENEMY,
    accuracy: 90,
    critModifier: 30,
    buffs: [{ type: BuffType.SENSITIVE, value: 50, isPercent: true, duration: 3, stackable: false }],
    ignoreDefense: false,
    canBeDodged: true,
    canBeReflected: false,
    hitCount: 1,
    conditionalEffects: [
      {
        condition: 'target.lust >= target.maxLust * 0.5',
        effect: { type: BuffType.FOCUS, value: 100, isPercent: true, duration: 1, stackable: false },
      },
    ],
    unlockConditions: [
      { type: UnlockConditionType.LEVEL, value: 25, description: '达到25级' },
      { type: UnlockConditionType.WINS, value: 50, description: '性斗胜利50次' },
    ],
    upgrades: [
      { cost: 4, damageIncrease: 15, costReduction: 0, cooldownReduction: 0 },
      { cost: 5, damageIncrease: 20, costReduction: 5, cooldownReduction: 0 },
      { cost: 6, damageIncrease: 25, costReduction: 5, cooldownReduction: 1 },
      { cost: 8, damageIncrease: 30, costReduction: 8, cooldownReduction: 1, specialEffect: '快感要求降至40%' },
      { cost: 10, damageIncrease: 40, costReduction: 10, cooldownReduction: 1, specialEffect: '蓄力时间-1' },
    ],
    voiceLine: '这是...终结！',
  },
];

// ==================== 导出所有技能 ====================

export const ALL_SKILLS: SkillData[] = [
  ...STARTER_SKILLS,
  ...PHYSICAL_SKILLS,
  ...MENTAL_SKILLS,
  ...CHARM_SKILLS,
  ...LUCK_SKILLS,
  ...SUPPORT_SKILLS,
  ...CONTROL_SKILLS,
  ...ULTIMATE_SKILLS,
];

/** 按ID获取技能 */
export function getSkillById(id: string): SkillData | undefined {
  return ALL_SKILLS.find(skill => skill.id === id);
}

/** 按类型获取技能 */
export function getSkillsByType(type: SkillType): SkillData[] {
  return ALL_SKILLS.filter(skill => skill.type === type);
}

/** 按稀有度获取技能 */
export function getSkillsByRarity(rarity: SkillRarity): SkillData[] {
  return ALL_SKILLS.filter(skill => skill.rarity === rarity);
}

/** 获取初始可学习技能（无解锁条件的） */
export function getInitialSkills(): SkillData[] {
  return ALL_SKILLS.filter(skill => skill.unlockConditions.length === 0);
}
