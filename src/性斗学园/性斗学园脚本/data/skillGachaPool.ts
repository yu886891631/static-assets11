/**
 * 技能抽取池数据
 * 包含所有可抽取的技能，按稀有度分类
 * 只使用MVU中已有的效果类型：性斗力、忍耐力、魅力、幸运、闪避率、暴击率、束缚
 * C级: 基础技能，低消耗低伤害，无buff
 * B级: 稀有技能，中等消耗伤害，少量buff
 * A级: 精良技能，较高消耗伤害，有buff/debuff
 * S级: 传说技能，高消耗高伤害，复杂buff/debuff，可能有束缚
 * SS级: 神话技能，极高消耗极高伤害，多重复杂buff/debuff，有束缚
 */

export interface GachaSkillData {
  id: string;
  name: string;
  description: string;
  effectDescription: string;
  icon: string;
  type: string;
  rarity: 'C' | 'B' | 'A' | 'S' | 'SS';
  staminaCost: number;
  cooldown: number;
  damageSource: string;
  coefficient: number;
  accuracy: number;
  critModifier: number;
  hitCount: number;
  buffs: Array<{
    type: '性斗力' | '忍耐力' | '魅力' | '幸运' | '闪避率' | '暴击率' | '束缚';
    value: number;
    isPercent: boolean;
    duration: number;
    isTargetEnemy: boolean; // true=作用于敌人, false=作用于自己
  }>;
}

// ==================== C级技能池 ====================
export const C_RANK_SKILLS: GachaSkillData[] = [
  {
    id: 'g_c_poke',
    name: '私处轻戳',
    description: '【攻击】用指尖轻戳对方的敏感私处',
    effectDescription: '造成60%性斗力伤害',
    icon: 'HandPointer',
    type: 'physical',
    rarity: 'C',
    staminaCost: 5,
    cooldown: 0,
    damageSource: '性斗力',
    coefficient: 60,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_c_tickle',
    name: '羞耻挠痒',
    description: '【攻击】在敏感部位轻柔挠痒，令对方羞耻难耐',
    effectDescription: '造成48%性斗力伤害',
    icon: 'Hand',
    type: 'physical',
    rarity: 'C',
    staminaCost: 4,
    cooldown: 0,
    damageSource: '性斗力',
    coefficient: 48,
    accuracy: 95,
    critModifier: 5,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_c_whisper',
    name: '淫靡耳语',
    description: '【精神】在耳边吐露淫靡私语，撩动心弦',
    effectDescription: '造成180%魅力伤害',
    icon: 'Comment',
    type: 'mental',
    rarity: 'C',
    staminaCost: 6,
    cooldown: 1,
    damageSource: '魅力',
    coefficient: 180,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_c_glance',
    name: '诱惑媚眼',
    description: '【魅力】抛出充满诱惑的媚眼，令对方心跳加速',
    effectDescription: '造成135%魅力伤害',
    icon: 'Eye',
    type: 'charm',
    rarity: 'C',
    staminaCost: 3,
    cooldown: 0,
    damageSource: '魅力',
    coefficient: 135,
    accuracy: 90,
    critModifier: 10,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_c_caress',
    name: '性感轻抚',
    description: '【攻击】用指尖轻抚对方的性感曲线',
    effectDescription: '造成54%性斗力伤害',
    icon: 'HandHeart',
    type: 'physical',
    rarity: 'C',
    staminaCost: 5,
    cooldown: 0,
    damageSource: '性斗力',
    coefficient: 54,
    accuracy: 100,
    critModifier: 5,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_c_tap',
    name: '臀瓣轻拍',
    description: '【攻击】轻拍对方挺翘的臀瓣，发出羞耻声响',
    effectDescription: '造成42%性斗力伤害',
    icon: 'Hand',
    type: 'physical',
    rarity: 'C',
    staminaCost: 3,
    cooldown: 0,
    damageSource: '性斗力',
    coefficient: 42,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_c_smile',
    name: '魅惑微笑',
    description: '【魅力】展露令人心动的魅惑微笑',
    effectDescription: '造成162%魅力伤害',
    icon: 'Smile',
    type: 'charm',
    rarity: 'C',
    staminaCost: 4,
    cooldown: 0,
    damageSource: '魅力',
    coefficient: 162,
    accuracy: 95,
    critModifier: 5,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_c_touch',
    name: '情欲触碰',
    description: '【攻击】带着情欲的触碰，点燃对方身体',
    effectDescription: '造成50%性斗力伤害',
    icon: 'Fingerprint',
    type: 'physical',
    rarity: 'C',
    staminaCost: 4,
    cooldown: 0,
    damageSource: '性斗力',
    coefficient: 50,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [],
  },
];

// ==================== B级技能池 ====================
export const B_RANK_SKILLS: GachaSkillData[] = [
  {
    id: 'g_b_nibble',
    name: '乳尖轻咬',
    description: '【攻击】在敏感乳尖轻轻啃咬，留下暧昧齿痕',
    effectDescription: '造成84%性斗力伤害，降低对方忍耐力10%持续2回合',
    icon: 'Teeth',
    type: 'physical',
    rarity: 'B',
    staminaCost: 10,
    cooldown: 1,
    damageSource: '性斗力',
    coefficient: 84,
    accuracy: 95,
    critModifier: 10,
    hitCount: 1,
    buffs: [{ type: '忍耐力', value: -10, isPercent: true, duration: 2, isTargetEnemy: true }],
  },
  {
    id: 'g_b_lick',
    name: '淫舌舔舐',
    description: '【攻击】用湿滑的舌头舔遍对方敏感部位',
    effectDescription: '造成120%性斗力伤害',
    icon: 'Droplet',
    type: 'physical',
    rarity: 'B',
    staminaCost: 12,
    cooldown: 1,
    damageSource: '性斗力',
    coefficient: 120,
    accuracy: 100,
    critModifier: 5,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_b_tease_words',
    name: '淫语调戏',
    description: '【精神】用下流言语调戏对方，令其脸红心跳',
    effectDescription: '造成270%魅力伤害，降低对方魅力5点持续2回合',
    icon: 'MessageCircle',
    type: 'mental',
    rarity: 'B',
    staminaCost: 14,
    cooldown: 2,
    damageSource: '魅力',
    coefficient: 270,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '魅力', value: -5, isPercent: false, duration: 2, isTargetEnemy: true }],
  },
  {
    id: 'g_b_massage_light',
    name: '性感按摩',
    description: '【攻击】用暧昧手法按摩对方敏感部位',
    effectDescription: '造成78%性斗力伤害，降低对方忍耐力10%持续2回合',
    icon: 'Droplets',
    type: 'physical',
    rarity: 'B',
    staminaCost: 15,
    cooldown: 2,
    damageSource: '性斗力',
    coefficient: 78,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '忍耐力', value: -10, isPercent: true, duration: 2, isTargetEnemy: true }],
  },
  {
    id: 'g_b_double_tap',
    name: '臀瓣连拍',
    description: '【攻击】快速连拍对方挺翘臀瓣，发出淫靡声响',
    effectDescription: '造成60%性斗力伤害 x2',
    icon: 'Zap',
    type: 'physical',
    rarity: 'B',
    staminaCost: 16,
    cooldown: 2,
    damageSource: '性斗力',
    coefficient: 60,
    accuracy: 85,
    critModifier: 10,
    hitCount: 2,
    buffs: [],
  },
  {
    id: 'g_b_charm_gaze',
    name: '淫荡凝视',
    description: '【魅力】用淫荡的眼神凝视对方，令其浑身燥热',
    effectDescription: '造成252%魅力伤害，降低对方闪避率8%持续2回合',
    icon: 'EyeOff',
    type: 'charm',
    rarity: 'B',
    staminaCost: 13,
    cooldown: 2,
    damageSource: '魅力',
    coefficient: 252,
    accuracy: 95,
    critModifier: 5,
    hitCount: 1,
    buffs: [{ type: '闪避率', value: -8, isPercent: true, duration: 2, isTargetEnemy: true }],
  },
  {
    id: 'g_b_pinch',
    name: '乳尖捏揉',
    description: '【攻击】用力捏揉对方敏感乳尖，令其呻吟',
    effectDescription: '造成82%性斗力伤害',
    icon: 'Grip',
    type: 'physical',
    rarity: 'B',
    staminaCost: 11,
    cooldown: 1,
    damageSource: '性斗力',
    coefficient: 82,
    accuracy: 100,
    critModifier: 8,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_b_sweet_talk',
    name: '淫荡甜言',
    description: '【魅力】用淫荡甜言诱惑对方，令其意乱情迷',
    effectDescription: '造成288%魅力伤害',
    icon: 'Heart',
    type: 'charm',
    rarity: 'B',
    staminaCost: 15,
    cooldown: 2,
    damageSource: '魅力',
    coefficient: 288,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [],
  },
  {
    id: 'g_b_quick_strike',
    name: '私处快击',
    description: '【攻击】迅速攻击对方私处，令其羞耻尖叫',
    effectDescription: '造成66%性斗力伤害，提升自身闪避率5%持续1回合',
    icon: 'Zap',
    type: 'physical',
    rarity: 'B',
    staminaCost: 10,
    cooldown: 1,
    damageSource: '性斗力',
    coefficient: 66,
    accuracy: 100,
    critModifier: 12,
    hitCount: 1,
    buffs: [{ type: '闪避率', value: 5, isPercent: true, duration: 1, isTargetEnemy: false }],
  },
  {
    id: 'g_b_tease_body',
    name: '胴体挑逗',
    description: '【攻击】用性感胴体摩擦对方，点燃情欲',
    effectDescription: '造成86%性斗力伤害',
    icon: 'User',
    type: 'physical',
    rarity: 'B',
    staminaCost: 13,
    cooldown: 1,
    damageSource: '性斗力',
    coefficient: 86,
    accuracy: 95,
    critModifier: 6,
    hitCount: 1,
    buffs: [],
  },
];

// ==================== A级技能池 ====================
export const A_RANK_SKILLS: GachaSkillData[] = [
  {
    id: 'g_a_deep_kiss',
    name: '淫舌深吻',
    description: '【攻击】令人窒息的淫舌深吻，交换唾液',
    effectDescription: '造成120%性斗力伤害，降低对方忍耐力15%持续3回合',
    icon: 'Heart',
    type: 'physical',
    rarity: 'A',
    staminaCost: 25,
    cooldown: 3,
    damageSource: '性斗力',
    coefficient: 120,
    accuracy: 90,
    critModifier: 15,
    hitCount: 1,
    buffs: [{ type: '忍耐力', value: -15, isPercent: true, duration: 3, isTargetEnemy: true }],
  },
  {
    id: 'g_a_lucky_touch',
    name: '幸运私触',
    description: '【幸运】用幸运之手触碰对方敏感处',
    effectDescription: '造成120%性斗力伤害，提升自身暴击率30%持续2回合',
    icon: 'Clover',
    type: 'luck',
    rarity: 'A',
    staminaCost: 20,
    cooldown: 3,
    damageSource: '性斗力',
    coefficient: 120,
    accuracy: 80,
    critModifier: 30,
    hitCount: 1,
    buffs: [{ type: '暴击率', value: 30, isPercent: true, duration: 2, isTargetEnemy: false }],
  },
  {
    id: 'g_a_seduce',
    name: '极致魅惑',
    description: '【魅力】释放极致的淫荡魅力，令对方神魂颠倒',
    effectDescription: '造成446%魅力伤害，降低对方性斗力20%持续3回合',
    icon: 'Sparkles',
    type: 'charm',
    rarity: 'A',
    staminaCost: 40,
    cooldown: 4,
    damageSource: '魅力',
    coefficient: 446,
    accuracy: 95,
    critModifier: 10,
    hitCount: 1,
    buffs: [{ type: '性斗力', value: -20, isPercent: true, duration: 3, isTargetEnemy: true }],
  },
  {
    id: 'g_a_triple_strike',
    name: '私处三连',
    description: '【攻击】连续三次攻击对方私处，令其失禁',
    effectDescription: '造成54%性斗力伤害 x3',
    icon: 'Flame',
    type: 'physical',
    rarity: 'A',
    staminaCost: 30,
    cooldown: 3,
    damageSource: '性斗力',
    coefficient: 54,
    accuracy: 80,
    critModifier: 15,
    hitCount: 3,
    buffs: [],
  },
  {
    id: 'g_a_weaken',
    name: '淫荡诅咒',
    description: '【精神】用淫荡诅咒削弱对方意志，令其身体发软',
    effectDescription: '造成405%魅力伤害，降低对方性斗力25%和忍耐力15%持续3回合',
    icon: 'Frown',
    type: 'mental',
    rarity: 'A',
    staminaCost: 36,
    cooldown: 4,
    damageSource: '魅力',
    coefficient: 405,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: -25, isPercent: true, duration: 3, isTargetEnemy: true },
      { type: '忍耐力', value: -15, isPercent: true, duration: 3, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_a_fortune_strike',
    name: '命运私击',
    description: '【幸运】命运眷顾的私处一击，令其高潮',
    effectDescription: '造成96%性斗力伤害，提升自身幸运15点持续2回合',
    icon: 'Star',
    type: 'luck',
    rarity: 'A',
    staminaCost: 22,
    cooldown: 3,
    damageSource: '性斗力',
    coefficient: 96,
    accuracy: 85,
    critModifier: 50,
    hitCount: 1,
    buffs: [{ type: '幸运', value: 15, isPercent: false, duration: 2, isTargetEnemy: false }],
  },
  {
    id: 'g_a_charm_burst',
    name: '淫荡爆发',
    description: '【魅力】释放全部淫荡魅力，令对方情欲爆发',
    effectDescription: '造成527%魅力伤害，提升自身魅力10点持续2回合',
    icon: 'Sparkle',
    type: 'charm',
    rarity: 'A',
    staminaCost: 50,
    cooldown: 6,
    damageSource: '魅力',
    coefficient: 527,
    accuracy: 100,
    critModifier: 8,
    hitCount: 1,
    buffs: [{ type: '魅力', value: 10, isPercent: false, duration: 2, isTargetEnemy: false }],
  },
  {
    id: 'g_a_power_strike',
    name: '胴体重击',
    description: '【攻击】用性感胴体全力撞击对方',
    effectDescription: '造成144%性斗力伤害，提升自身性斗力20%持续2回合',
    icon: 'Dumbbell',
    type: 'physical',
    rarity: 'A',
    staminaCost: 28,
    cooldown: 3,
    damageSource: '性斗力',
    coefficient: 144,
    accuracy: 85,
    critModifier: 20,
    hitCount: 1,
    buffs: [{ type: '性斗力', value: 20, isPercent: true, duration: 2, isTargetEnemy: false }],
  },
  {
    id: 'g_a_dodge_master',
    name: '淫姿闪避',
    description: '【辅助】用淫荡姿态提升闪避能力',
    effectDescription: '造成72%性斗力伤害，提升自身闪避率25%持续3回合',
    icon: 'Wind',
    type: 'support',
    rarity: 'A',
    staminaCost: 20,
    cooldown: 4,
    damageSource: '性斗力',
    coefficient: 72,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '闪避率', value: 25, isPercent: true, duration: 3, isTargetEnemy: false }],
  },
  {
    id: 'g_a_crit_focus',
    name: '弱点专注',
    description: '【辅助】集中精神寻找对方敏感弱点',
    effectDescription: '造成84%性斗力伤害，提升自身暴击率35%持续2回合',
    icon: 'Target',
    type: 'support',
    rarity: 'A',
    staminaCost: 22,
    cooldown: 3,
    damageSource: '性斗力',
    coefficient: 84,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '暴击率', value: 35, isPercent: true, duration: 2, isTargetEnemy: false }],
  },
  {
    id: 'g_a_quad_strike',
    name: '四连私击',
    description: '【攻击】连续四次攻击对方私处，令其彻底失神',
    effectDescription: '造成42%性斗力伤害 x4',
    icon: 'Zap',
    type: 'physical',
    rarity: 'A',
    staminaCost: 32,
    cooldown: 4,
    damageSource: '性斗力',
    coefficient: 42,
    accuracy: 75,
    critModifier: 18,
    hitCount: 4,
    buffs: [],
  },
  {
    id: 'g_a_charm_drain',
    name: '魅力吸取',
    description: '【魅力】吸取对方的魅力精华，增强自身淫荡',
    effectDescription: '造成446%魅力伤害，降低对方魅力10点并提升自身魅力5点持续3回合',
    icon: 'ArrowDownUp',
    type: 'charm',
    rarity: 'A',
    staminaCost: 26,
    cooldown: 5,
    damageSource: '魅力',
    coefficient: 446,
    accuracy: 90,
    critModifier: 5,
    hitCount: 1,
    buffs: [
      { type: '魅力', value: -10, isPercent: false, duration: 3, isTargetEnemy: true },
      { type: '魅力', value: 5, isPercent: false, duration: 3, isTargetEnemy: false },
    ],
  },
];

// ==================== S级技能池 ====================
export const S_RANK_SKILLS: GachaSkillData[] = [
  {
    id: 'g_s_dominate',
    name: '淫荡支配',
    description: '【控制】用淫荡魅力完全支配对方身心',
    effectDescription: '造成144%性斗力伤害，束缚2回合，降低对方闪避率40%和忍耐力25%',
    icon: 'Crown',
    type: 'control',
    rarity: 'S',
    staminaCost: 40,
    cooldown: 5,
    damageSource: '性斗力',
    coefficient: 144,
    accuracy: 85,
    critModifier: 10,
    hitCount: 1,
    buffs: [
      { type: '束缚', value: 0, isPercent: false, duration: 2, isTargetEnemy: true },
      { type: '闪避率', value: -40, isPercent: true, duration: 2, isTargetEnemy: true },
      { type: '忍耐力', value: -25, isPercent: true, duration: 2, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_s_ultimate_pleasure',
    name: '极致淫乐',
    description: '【攻击】带来极致的淫荡快感，令对方彻底沉沦',
    effectDescription: '造成180%性斗力伤害，降低对方性斗力30%和忍耐力20%持续3回合',
    icon: 'Flame',
    type: 'physical',
    rarity: 'S',
    staminaCost: 45,
    cooldown: 5,
    damageSource: '性斗力',
    coefficient: 180,
    accuracy: 90,
    critModifier: 20,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: -30, isPercent: true, duration: 3, isTargetEnemy: true },
      { type: '忍耐力', value: -20, isPercent: true, duration: 3, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_s_lucky_seven',
    name: '幸运七淫',
    description: '【幸运】七次幸运的淫荡攻击，次次命中要害',
    effectDescription: '造成30%性斗力伤害 x7，提升自身暴击率15%持续2回合',
    icon: 'Dice',
    type: 'luck',
    rarity: 'S',
    staminaCost: 50,
    cooldown: 6,
    damageSource: '性斗力',
    coefficient: 30,
    accuracy: 70,
    critModifier: 35,
    hitCount: 7,
    buffs: [{ type: '暴击率', value: 15, isPercent: true, duration: 2, isTargetEnemy: false }],
  },
  {
    id: 'g_s_total_breakdown',
    name: '淫荡崩溃',
    description: '【精神】用淫荡力量彻底摧毁对方意志',
    effectDescription: '造成583%魅力伤害，降低对方性斗力35%、忍耐力25%、魅力15点持续4回合',
    icon: 'Brain',
    type: 'mental',
    rarity: 'S',
    staminaCost: 48,
    cooldown: 6,
    damageSource: '魅力',
    coefficient: 583,
    accuracy: 95,
    critModifier: 10,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: -35, isPercent: true, duration: 4, isTargetEnemy: true },
      { type: '忍耐力', value: -25, isPercent: true, duration: 4, isTargetEnemy: true },
      { type: '魅力', value: -15, isPercent: false, duration: 4, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_s_bind_chain',
    name: '淫链束缚',
    description: '【控制】用淫荡锁链完全束缚对方身体',
    effectDescription: '造成96%性斗力伤害，束缚3回合，降低对方闪避率60%',
    icon: 'Link',
    type: 'control',
    rarity: 'S',
    staminaCost: 42,
    cooldown: 6,
    damageSource: '性斗力',
    coefficient: 96,
    accuracy: 80,
    critModifier: 0,
    hitCount: 1,
    buffs: [
      { type: '束缚', value: 0, isPercent: false, duration: 3, isTargetEnemy: true },
      { type: '闪避率', value: -60, isPercent: true, duration: 3, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_s_power_boost',
    name: '淫力觉醒',
    description: '【辅助】觉醒体内潜藏的淫荡力量',
    effectDescription: '造成120%性斗力伤害，提升自身性斗力40%、暴击率25%持续3回合',
    icon: 'Zap',
    type: 'support',
    rarity: 'S',
    staminaCost: 38,
    cooldown: 5,
    damageSource: '性斗力',
    coefficient: 120,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: 40, isPercent: true, duration: 3, isTargetEnemy: false },
      { type: '暴击率', value: 25, isPercent: true, duration: 3, isTargetEnemy: false },
    ],
  },
  {
    id: 'g_s_charm_explosion',
    name: '淫荡爆炸',
    description: '【魅力】淫荡魅力的终极释放，令对方彻底沦陷',
    effectDescription: '造成656%魅力伤害，提升自身魅力20点持续3回合',
    icon: 'Sparkles',
    type: 'charm',
    rarity: 'S',
    staminaCost: 46,
    cooldown: 5,
    damageSource: '魅力',
    coefficient: 656,
    accuracy: 100,
    critModifier: 15,
    hitCount: 1,
    buffs: [{ type: '魅力', value: 20, isPercent: false, duration: 3, isTargetEnemy: false }],
  },
  {
    id: 'g_s_perfect_dodge',
    name: '淫姿闪避',
    description: '【辅助】用淫荡姿态达到闪避的极致',
    effectDescription: '造成84%性斗力伤害，提升自身闪避率45%持续4回合',
    icon: 'Wind',
    type: 'support',
    rarity: 'S',
    staminaCost: 35,
    cooldown: 6,
    damageSource: '性斗力',
    coefficient: 84,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '闪避率', value: 45, isPercent: true, duration: 4, isTargetEnemy: false }],
  },
  {
    id: 'g_s_luck_burst',
    name: '淫运爆发',
    description: '【幸运】淫荡与幸运的极致结合',
    effectDescription: '造成132%性斗力伤害，提升自身幸运25点、暴击率30%持续3回合',
    icon: 'Star',
    type: 'luck',
    rarity: 'S',
    staminaCost: 40,
    cooldown: 5,
    damageSource: '性斗力',
    coefficient: 132,
    accuracy: 90,
    critModifier: 40,
    hitCount: 1,
    buffs: [
      { type: '幸运', value: 25, isPercent: false, duration: 3, isTargetEnemy: false },
      { type: '暴击率', value: 30, isPercent: true, duration: 3, isTargetEnemy: false },
    ],
  },
  {
    id: 'g_s_five_strike',
    name: '五连私击',
    description: '【攻击】连续五次攻击对方私处，令其彻底失神',
    effectDescription: '造成36%性斗力伤害 x5',
    icon: 'Zap',
    type: 'physical',
    rarity: 'S',
    staminaCost: 44,
    cooldown: 5,
    damageSource: '性斗力',
    coefficient: 36,
    accuracy: 75,
    critModifier: 22,
    hitCount: 5,
    buffs: [],
  },
  {
    id: 'g_s_aiming_strike',
    name: '必中淫击',
    description: '【对策】针对高闪避对手的攻击',
    effectDescription: '造成60%性斗力伤害，降低对方闪避率90%持续3回合',
    icon: 'Target',
    type: 'physical',
    rarity: 'S',
    staminaCost: 42,
    cooldown: 6,
    damageSource: '性斗力',
    coefficient: 60,
    accuracy: 200,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '闪避率', value: -90, isPercent: true, duration: 3, isTargetEnemy: true }],
  },
  {
    id: 'g_s_armor_break',
    name: '破防淫击',
    description: '【对策】针对高防御对手的破甲攻击',
    effectDescription: '造成150点固定伤害，降低对方忍耐力60%持续4回合',
    icon: 'Hammer',
    type: 'physical',
    rarity: 'S',
    staminaCost: 48,
    cooldown: 7,
    damageSource: '固定值',
    coefficient: 150,
    accuracy: 85,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '忍耐力', value: -60, isPercent: true, duration: 4, isTargetEnemy: true }],
  },
  {
    id: 'g_s_god_blessing',
    name: '淫神之佑',
    description: '【增益】获得淫神祝福，全属性大幅提升',
    effectDescription: '造成69%性斗力伤害，提升自身性斗力50%、忍耐力40%、魅力30点、闪避率35%、暴击率30%持续4回合',
    icon: 'Shield',
    type: 'support',
    rarity: 'S',
    staminaCost: 45,
    cooldown: 8,
    damageSource: '性斗力',
    coefficient: 69,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: 50, isPercent: true, duration: 4, isTargetEnemy: false },
      { type: '忍耐力', value: 40, isPercent: true, duration: 4, isTargetEnemy: false },
      { type: '魅力', value: 30, isPercent: false, duration: 4, isTargetEnemy: false },
      { type: '闪避率', value: 35, isPercent: true, duration: 4, isTargetEnemy: false },
      { type: '暴击率', value: 30, isPercent: true, duration: 4, isTargetEnemy: false },
    ],
  },
];

// ==================== SS级技能池 ====================
export const SS_RANK_SKILLS: GachaSkillData[] = [
  {
    id: 'g_ss_absolute_control',
    name: '绝对淫控',
    description: '【终结】用绝对淫荡力量完全掌控对方身心',
    effectDescription: '造成240%性斗力伤害，束缚3回合，降低对方性斗力40%、忍耐力30%、闪避率50%',
    icon: 'Skull',
    type: 'ultimate',
    rarity: 'SS',
    staminaCost: 60,
    cooldown: 8,
    damageSource: '性斗力',
    coefficient: 240,
    accuracy: 90,
    critModifier: 25,
    hitCount: 1,
    buffs: [
      { type: '束缚', value: 0, isPercent: false, duration: 3, isTargetEnemy: true },
      { type: '性斗力', value: -40, isPercent: true, duration: 4, isTargetEnemy: true },
      { type: '忍耐力', value: -30, isPercent: true, duration: 4, isTargetEnemy: true },
      { type: '闪避率', value: -50, isPercent: true, duration: 4, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_ss_divine_pleasure',
    name: '神圣淫乐',
    description: '【终结】带来神级的淫荡快感体验，令对方彻底沦陷',
    effectDescription: '造成300%性斗力伤害，降低对方性斗力50%、忍耐力40%持续5回合',
    icon: 'Sun',
    type: 'ultimate',
    rarity: 'SS',
    staminaCost: 65,
    cooldown: 8,
    damageSource: '性斗力',
    coefficient: 300,
    accuracy: 95,
    critModifier: 30,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: -50, isPercent: true, duration: 5, isTargetEnemy: true },
      { type: '忍耐力', value: -40, isPercent: true, duration: 5, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_ss_fate_roulette',
    name: '命运淫轮',
    description: '【幸运】命运淫轮的终极审判，十次极致快感',
    effectDescription: '造成36%性斗力伤害 x10，提升自身暴击率20%、幸运15点持续3回合',
    icon: 'CircleDot',
    type: 'luck',
    rarity: 'SS',
    staminaCost: 70,
    cooldown: 9,
    damageSource: '性斗力',
    coefficient: 36,
    accuracy: 75,
    critModifier: 40,
    hitCount: 10,
    buffs: [
      { type: '暴击率', value: 20, isPercent: true, duration: 3, isTargetEnemy: false },
      { type: '幸运', value: 15, isPercent: false, duration: 3, isTargetEnemy: false },
    ],
  },
  {
    id: 'g_ss_ultimate_destruction',
    name: '终极淫灭',
    description: '【终结】用终极淫荡力量彻底击溃对方身心',
    effectDescription: '造成729%魅力伤害，降低对方性斗力45%、忍耐力35%、魅力25点、闪避率40%持续5回合',
    icon: 'Ghost',
    type: 'ultimate',
    rarity: 'SS',
    staminaCost: 75,
    cooldown: 10,
    damageSource: '魅力',
    coefficient: 729,
    accuracy: 100,
    critModifier: 20,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: -45, isPercent: true, duration: 5, isTargetEnemy: true },
      { type: '忍耐力', value: -35, isPercent: true, duration: 5, isTargetEnemy: true },
      { type: '魅力', value: -25, isPercent: false, duration: 5, isTargetEnemy: true },
      { type: '闪避率', value: -40, isPercent: true, duration: 5, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_ss_eternal_bind',
    name: '永恒淫缚',
    description: '【控制】用永恒淫荡束缚对方，永世不得逃脱',
    effectDescription: '造成120%性斗力伤害，束缚4回合，降低对方闪避率80%、性斗力35%',
    icon: 'Lock',
    type: 'control',
    rarity: 'SS',
    staminaCost: 68,
    cooldown: 10,
    damageSource: '性斗力',
    coefficient: 120,
    accuracy: 75,
    critModifier: 0,
    hitCount: 1,
    buffs: [
      { type: '束缚', value: 0, isPercent: false, duration: 4, isTargetEnemy: true },
      { type: '闪避率', value: -80, isPercent: true, duration: 4, isTargetEnemy: true },
      { type: '性斗力', value: -35, isPercent: true, duration: 4, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_ss_god_mode',
    name: '淫神领域',
    description: '【终结】进入淫神境界，主宰一切情欲',
    effectDescription: '造成216%性斗力伤害，提升自身性斗力60%、魅力30点、暴击率40%、闪避率35%持续4回合',
    icon: 'Crown',
    type: 'ultimate',
    rarity: 'SS',
    staminaCost: 72,
    cooldown: 9,
    damageSource: '性斗力',
    coefficient: 216,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: 60, isPercent: true, duration: 4, isTargetEnemy: false },
      { type: '魅力', value: 30, isPercent: false, duration: 4, isTargetEnemy: false },
      { type: '暴击率', value: 40, isPercent: true, duration: 4, isTargetEnemy: false },
      { type: '闪避率', value: 35, isPercent: true, duration: 4, isTargetEnemy: false },
    ],
  },
  {
    id: 'g_ss_charm_domination',
    name: '淫魅统治',
    description: '【终结】用终极淫荡魅力统治一切，令万物臣服',
    effectDescription: '造成875%魅力伤害，提升自身魅力35点、降低对方魅力30点持续5回合',
    icon: 'Sparkles',
    type: 'ultimate',
    rarity: 'SS',
    staminaCost: 78,
    cooldown: 10,
    damageSource: '魅力',
    coefficient: 875,
    accuracy: 100,
    critModifier: 25,
    hitCount: 1,
    buffs: [
      { type: '魅力', value: 35, isPercent: false, duration: 5, isTargetEnemy: false },
      { type: '魅力', value: -30, isPercent: false, duration: 5, isTargetEnemy: true },
    ],
  },
  {
    id: 'g_ss_ultimate_luck',
    name: '终极淫运',
    description: '【幸运】终极淫运形态，幸运与情欲的完美融合',
    effectDescription: '造成180%性斗力伤害，提升自身幸运40点、暴击率50%、闪避率30%持续4回合',
    icon: 'Star',
    type: 'luck',
    rarity: 'SS',
    staminaCost: 66,
    cooldown: 9,
    damageSource: '性斗力',
    coefficient: 180,
    accuracy: 95,
    critModifier: 60,
    hitCount: 1,
    buffs: [
      { type: '幸运', value: 40, isPercent: false, duration: 4, isTargetEnemy: false },
      { type: '暴击率', value: 50, isPercent: true, duration: 4, isTargetEnemy: false },
      { type: '闪避率', value: 30, isPercent: true, duration: 4, isTargetEnemy: false },
    ],
  },
  {
    id: 'g_ss_fate_lock',
    name: '命运锁定',
    description: '【对策】锁定高闪避对手的命运，无法逃脱',
    effectDescription: '造成120%性斗力伤害，降低对方闪避率100%持续5回合',
    icon: 'Target',
    type: 'ultimate',
    rarity: 'SS',
    staminaCost: 70,
    cooldown: 10,
    damageSource: '性斗力',
    coefficient: 120,
    accuracy: 200,
    critModifier: 0,
    hitCount: 1,
    buffs: [{ type: '闪避率', value: -100, isPercent: true, duration: 5, isTargetEnemy: true }],
  },
  {
    id: 'g_ss_absolute_field',
    name: '绝对领域',
    description: '【增益】展开绝对领域，免疫控制并全属性超大幅提升',
    effectDescription:
      '造成10%性斗力伤害，提升自身性斗力69%、忍耐力69%、魅力69点、幸运69点、闪避率69%、暴击率69%持续5回合',
    icon: 'Shield',
    type: 'ultimate',
    rarity: 'SS',
    staminaCost: 80,
    cooldown: 12,
    damageSource: '性斗力',
    coefficient: 10,
    accuracy: 100,
    critModifier: 0,
    hitCount: 1,
    buffs: [
      { type: '性斗力', value: 69, isPercent: true, duration: 5, isTargetEnemy: false },
      { type: '忍耐力', value: 69, isPercent: true, duration: 5, isTargetEnemy: false },
      { type: '魅力', value: 69, isPercent: false, duration: 5, isTargetEnemy: false },
      { type: '幸运', value: 69, isPercent: false, duration: 5, isTargetEnemy: false },
      { type: '闪避率', value: 69, isPercent: true, duration: 5, isTargetEnemy: false },
      { type: '暴击率', value: 69, isPercent: true, duration: 5, isTargetEnemy: false },
    ],
  },
];

// 抽取概率配置
export const GACHA_RATES = {
  C: 50, // 50%
  B: 30, // 30%
  A: 17.5, // 17.5%
  S: 2, // 2%
  SS: 0.5, // 0.5%
};

// 获取所有技能池
export function getAllSkillPools() {
  return {
    C: C_RANK_SKILLS,
    B: B_RANK_SKILLS,
    A: A_RANK_SKILLS,
    S: S_RANK_SKILLS,
    SS: SS_RANK_SKILLS,
  };
}

// 根据概率抽取稀有度
export function rollRarity(): 'C' | 'B' | 'A' | 'S' | 'SS' {
  const roll = Math.random() * 100;
  let cumulative = 0;

  for (const [rarity, rate] of Object.entries(GACHA_RATES)) {
    cumulative += rate;
    if (roll < cumulative) {
      return rarity as 'C' | 'B' | 'A' | 'S' | 'SS';
    }
  }

  return 'C';
}

// 从指定稀有度池中随机抽取一个技能
export function rollSkillFromPool(rarity: 'C' | 'B' | 'A' | 'S' | 'SS'): GachaSkillData {
  const pools = getAllSkillPools();
  const pool = pools[rarity];
  const index = Math.floor(Math.random() * pool.length);
  return pool[index];
}

// 执行单次抽取
export function performSingleGacha(): GachaSkillData {
  const rarity = rollRarity();
  return rollSkillFromPool(rarity);
}

// 执行十连抽取（保底至少一个A级）
export function performTenGacha(): GachaSkillData[] {
  const results: GachaSkillData[] = [];
  let hasAOrAbove = false;

  for (let i = 0; i < 10; i++) {
    const skill = performSingleGacha();
    results.push(skill);
    if (skill.rarity === 'A' || skill.rarity === 'S' || skill.rarity === 'SS') {
      hasAOrAbove = true;
    }
  }

  // 保底：如果没有A级及以上，最后一个替换为A级
  if (!hasAOrAbove) {
    results[9] = rollSkillFromPool('A');
  }

  return results;
}
